# 接口文档

## 1. POST 对语句运行一次情感分析

### 1.1 接口解释

对某一个文本语句进行情感分析，需要指定输出的模式和是否需要解释。分析的选项是可选的。

### 1.2 请求路径

`/sentiment/analysis/text`

### 1.3 请求参数

| 名称    | 位置 | 类型    | 是否必须 | 中文名   | 说明                                  |
| ------- | ---- | ------- | -------- | -------- | ------------------------------------- |
| text    | body | String  | 是       | 文本     | 被分析的文本语句                      |
| mode    | body | String  | 是       | 输出模式 | 可选：trinary, binary, default, scope |
| explain | body | Boolean | 是       | 解释     | 是否需要解释                          |
| options | body | Object  | 否       | 分析选项 | 分析选项，参考 Manual。               |

body类型：`application/json`

示例1：

```json
{
    "text": "I don't hate you.",
	"mode": "default",
	"explain": true,
	"options": {
		"alwaysSplitWordsAtApostrophes": true,
		"noBoosters": true,
		"noNegatingPositiveFlipsEmotion": true,
		"noNegatingNegativeNeutralisesEmotion": true,
		"negatedWordStrengthMultiplier": 0.6,
		"maxWordsBeforeSentimentToNegate": 3,
		"noIdioms": true,
		"questionsReduceNeg": true,
		"noEmoticons": true,
		"exclamations2": true,
		"mood": -1,
		"noMultiplePosWords": true,
		"noMultipleNegWords": true,
		"noIgnoreBoosterWordsAfterNegatives": true,
		"noDictionary": true,
		"noDeleteExtraDuplicateLetters": true,
		"illegalDoubleLettersInWordMiddle": "ahijkquvxyz",
		"illegalDoubleLettersAtWordEnd": "achijkmnpqruvwxyz",
		"noMultipleLetters": true
	}
}
```



示例2：

```json
{
    "text": "I don't hate you.",
	"mode": "scale",
	"explain": false,
	"options": {
		"alwaysSplitWordsAtApostrophes": true
	}
}
```



### 1.4 响应

```java
Result<TextAnalysisVO>;

class TextAnalysisVO {
    int val1;
    int val2;
    int val3;
    String explain;   
}
```

```json
{
  "code": 0,
  "msg": "success",
  "data": {
    "val1": 1,
    "val2": -1,
    "val3": 0,
    "explain": "I don't hate[-4] [=0 negation] you [sentence: 1,-1] [result: max + and - of any sentence][scale result = sum of pos and neg scores]"
  }
}
```

### 1.5 错误情况



## 2. POST 对文本文件运行一次情感分析

### 2.1 接口解释

对某一个文本文件进行情感分析。

### 2.2 请求路径

`/sentiment/analysis/file`

### 2.3 请求参数

body类型：`form/data`

| 名称 | 位置 | 类型 | 是否必须 | 中文名   | 说明             |
| ---- | ---- | ---- | -------- | -------- | ---------------- |
| file | body | File | 是       | 文本文件 | 被分析的文本文件 |

### 2.4 响应

```java
Result<String>;
```

```json
{
  "code": 0,
  "msg": "success",
  "data": {
      "result": {result}
  }
}
```

### 2.5 错误情况

